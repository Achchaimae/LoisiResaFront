<div class="bg-gray-200">
  <div class="container mx-auto mt-10">
    <div class="wrapper bg-white rounded shadow w-full">
      <div class="header flex justify-between border-b p-2">
        <div>
          <span class="text-xl font-bold">{{ MONTH_NAMES[month] }}</span>
          <span class="ml-1 text-lg text-gray-600 font-semibold">{{
            year
          }}</span>
        </div>
        <div class="buttons">
          <button
            class="p-1"
            [class.cursor-not-allowed.opacity-25]="month == 0"
            [disabled]="month == 0"
            (click)="changeMonth(-1)"
          >
            <svg
              width="1em"
              fill="gray"
              height="1em"
              viewBox="0 0 16 16"
              class="bi bi-arrow-left-circle"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
              />
              <path
                fill-rule="evenodd"
                d="M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z"
              />
              <path
                fill-rule="evenodd"
                d="M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z"
              />
            </svg>
          </button>
          <button
            class="p-1"
            [class.cursor-not-allowed.opacity-25]="month == 11"
            [disabled]="month == 11"
            (click)="changeMonth(1)"
          >
            <svg
              width="1em"
              fill="gray"
              height="1em"
              viewBox="0 0 16 16"
              class="bi bi-arrow-right-circle"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
              />
              <path
                fill-rule="evenodd"
                d="M7.646 11.354a.5.5 0 0 1 0-.708L10.293 8 7.646 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z"
              />
              <path
                fill-rule="evenodd"
                d="M4.5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"
              />
            </svg>
          </button>
        </div>
      </div>
      <div class="w-full">
        <div class="flex flex-wrap">
          <div
            *ngFor="let day of DAYS"
            style="width: 14.26%"
            class="px-2 py-2 font-bold"
          >
            <div
              class="text-sm font-bold uppercase tracking-wide font-bold text-center"
            >
              {{ day }}
            </div>
          </div>
        </div>
        <div class="flex flex-wrap border-t border-l">
          <div
            *ngFor="let blankday of blankdays"
            style="width: 14.28%; height: 120px"
            class="text-center border-r border-b px-4 pt-2"
          ></div>
          <div
            *ngFor="let date of no_of_days; let dateIndex = index"
            style="width: 14.28%; height: 120px"
            class="px-4 pt-2 border-r border-b relative"
          >
            <div
              (click)="showEventModal(date)"
              [class.bg-blue-400.w-8.text-white]="isToday(date)"
              [class.text-gray-700.hover:bg-blue-200]="!isToday(date)"
              class="h-6 items-center justify-center cursor-pointer text-center leading-none rounded-full transition ease-in-out duration-100"
            >
              <div class="flex flex-col gap-4">
                {{ date }}
                <!-- dont delete this one is for event  -->
                <!-- <div class="bg-yellow-500 text-white rounded p-1 text-sm mb-1">
                  testing event
                </div> -->
              </div>
            </div>

            <div style="height: 80px" class="overflow-y-auto mt-1">
              <div
                *ngFor="let event of getFilteredEvents(year, month, date)"
                class="px-2 py-1 rounded-lg mt-1 overflow-hidden border"
                [ngClass]="{
                  'border-blue-200 text-blue-800 bg-blue-100':
                    event.event_theme === 'blue',
                  'border-red-200 text-red-800 bg-red-100':
                    event.event_theme === 'red',
                  'border-yellow-200 text-yellow-800 bg-yellow-100':
                    event.event_theme === 'yellow',
                  'border-green-200 text-green-800 bg-green-100':
                    event.event_theme === 'green',
                  'border-purple-200 text-purple-800 bg-purple-100':
                    event.event_theme === 'purple'
                }"
              >
                <p class="text-sm truncate leading-tight">
                  {{ event.event_title }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
